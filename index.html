<html>
	<head>
		<title>Phonics</title>
		<link rel="shortcut icon" href="favicon.ico">
		<script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
		<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
		
		<style>
			
			html, body {
				height: 100%;
				margin: 0;
				padding: 0;
				text-align: center;
				font-family: Arial;			
			}
			.container { display: table; }
			.content { display: table-row; height: 100%; }
			.content-body { display: table-cell; }
			.container { width: 100%; height: 100%; }
			.header, .footer { padding: 1em; border-bottom: 1px solid #404040; border-top: 1px solid #404040; }
			.content-body { padding: 20px; background: #f4f4f4; vertical-align: middle; }

			.header select, .header option {
				font-size: 2vw;
				margin: 0 2vw;
			}
			
			.next-button {
				width: 100%;
				height: 10vh;
				font-size: 3vh;
				cursor: pointer;
			}
			
			.content-body {
				font-size: 25vw;
				user-select: none;
			}
			
		</style>
		
	</head>
	<body>
		<div id="app"/>
		
		<script>

			const chapter1 = {
				number: 1,
				name: 'a',
				words: ['mat', 'jam', 'rat', 'map', 'man', 'ham', 'Nat', 'pad', 'mad', 'Dan', 'fan', 'bag', 'wag', 'rag', 'sag', 'hag', 'fat', 'pat', 'tap', 'pan', 'nap', 'lap', 'Sam', 'mass', 'dad', 'rap', 'tan', 'Pam', 'gas', 'Ann']
			};
			
			const chapter2 = {
				number: 2,
				name: 'e',
				words: ['yes', 'men', 'tell', 'egg', 'net', 'pen', 'bet', 'bell', 'let', 'pen', 'net', 'sell', 'bed', 'get', 'den', 'leg', 'leg', 'pet', 'Ben', 'web', 'well', 'red' ]
			};
			
			const chapter3 = {
				number: 3,
				name: 'Review',
				words: [...chapter1.words, ...chapter2.words]
			};

			const chapter4 = {
				number: 4,
				name: 'i',
				words: ['miss', 'fit', 'did', 'Jim', 'Jill', 'Sis', 'nip', 'fib', 'dig', 'bib', 'bit', 'him', 'sit', 'hip', 'hit', 'sin', 'sip', 'Bill', 'fig', 'win', 'rip', 'Tim', 'bin', 'hill', 'pin']
			};

			const chapter5 = {
				number: 5,
				name: 'Review',
				words: [...chapter3.words, ...chapter4.words]
			};

			const chapter6 = {
				number: 6,
				name: 'o',
				words: ['nod', 'sob', 'dot', 'pop', 'not', 'boss', 'hot', 'moss', 'log', 'doll', 'lot', 'pot', 'hop', 'Bob', 'got', 'top', 'job', 'hog', 'dog', 'Tom', 'fog', 'mop', 'Don', 'rob']
			};

			const chapter7 = {
				number: 7,
				name: 'Review',
				words: [...chapter5.words, ...chapter6.words]
			};

			const chapter8 = {
				number: 8,
				name: 'u',
				words: ['hum', 'run', 'bus', 'bug', 'tug', 'nun', 'bud', 'sun', 'sum', 'bun', 'mutt', 'tub', 'huff', 'pup', 'fuzz', 'nut', 'mug', 'mud', 'hut', 'Gus', 'hug', 'rub', 'rug', 'muff']
			};

			const chapter9 = {
				number: 9,
				name: 'Review',
				words: [...chapter7.words, ...chapter8.words]
			};

			const chapter10 = {
				number: 10,
				name: 'c k',
				words: ['cab', 'can', 'cap', 'cat', 'cob', 'cod', 'cop', 'cot', 'cub', 'cuff', 'cup', 'cut', 'keg', 'kid', 'kiss', 'kit']
			};

			const chapter11 = {
				number: 11,
				name: 'ck',
				words: ['pick', 'tick', 'luck', 'lick', 'suck', 'lock', 'lack', 'kick', 'sick', 'pack', 'tack', 'neck', 'tuck', 'buck', 'rack', 'deck', 'sock', 'rock', 'nick', 'hack', 'dock', 'jack', 'back', 'sack', 'duck', 'luck', 'sack', 'nick', 'pack', 'back', 'duck', 'tuck', 'tick', 'pick', 'dock', 'rack', 'sick', 'buck', 'lock', 'neck', 'deck']
			};

			const chapter12 = {
				number: 12,
				name: 'Review',
				words: [...chapter9.words, ...chapter10.words, ...chapter11.words]
			};
			
			const chapter13 = {
				number: 13,
				name: 'ct ft lb lf lk lm lp lt mp nd nt pt sk sp st',
				words: ['nest', 'best', 'dump', 'mend', 'rest', 'land', 'belt', 'bond', 'bend', 'lend', 'test', 'vest', 'limp', 'bulb', 'hump', 'kept', 'ask', 'just', 'band', 'hint', 'desk', 'pond', 'went', 'zest', 'self', 'fist', 'dust', 'rust', 'pest', 'camp', 'mist', 'fact', 'list', 'hunt', 'lump', 'bent', 'gift', 'milk', 'sift', 'felt', 'fond', 'left', 'must', 'lift', 'end', 'west', 'gulp', 'help', 'wept', 'silk', 'lent', 'last', 'fast', 'melt', 'sulk', 'elf', 'bulk', 'lisp', 'pump', 'bump', 'sand', 'send', 'tent', 'mint', 'lamp', 'dusk', 'jump', 'damp', 'mist', 'dusk', 'zest', 'fond', 'bulb', 'mask', 'lisp', 'jump', 'desk', 'list', 'last', 'melt', 'fist', 'lump', 'rest', 'camp', 'must', 'sulk', 'and', 'ask', 'help', 'send']
			};

			const chapter14 = {
				number: 14,
				name: 'bs cks ds ffs gs lls ms ns ps ts cts fts lbs lks lms lps lts mps nds nts pts sks sps sts',
				words: ['acts', 'asks', 'bats', 'beds', 'bills', 'bugs', 'buns', 'camps', 'cats', 'cops', 'cuffs', 'cups', 'cuts', 'digs', 'ducks', 'dusts', 'elms', 'facts', 'fins', 'gifts', 'gulps', 'hands', 'hats', 'helps', 'hens', 'hills', 'hints', 'hops', 'hums', 'jumps', 'lifts', 'lips', 'lisps', 'masks', 'mats', 'melts', 'mends', 'milks', 'nests', 'pants', 'pigs', 'pills', 'pumps', 'rests', 'ribs', 'rips', 'sells', 'sips', 'sulks', 'tops', 'tubs', 'wigs']
			};
		
			const chapter15 = {
				number: 15,
				name: 'ng nk sh x ngs nks',
				words: ['ash', 'ax', 'bangs', 'bank', 'box', 'cash', 'dash', 'dish', 'dunk', 'fish', 'fix', 'fox', 'gang', 'gash', 'gush', 'hang', 'hash', 'hush', 'ink', 'junk', 'king', 'lash', 'link', 'long', 'lungs', 'mash', 'max', 'mink', 'mix', 'monk', 'mush', 'next', 'ox', 'pink', 'rank', 'rash', 'ring', 'rung', 'rush', 'sash', 'sing', 'sink', 'six', 'song', 'sunk', 'tank', 'tax', 'wax', 'wing', 'winks', 'wish']
			};

			const chapter16 = {
				number: 16,
				name: 'Review',
				words: [...chapter12.words, ...chapter13.words, ...chapter14.words, ...chapter15.words]
			};
			
			const e = React.createElement;

			class App extends React.Component {
				constructor(props) {
				super(props);
				
				this.chapters = [
					chapter1,
					chapter2,
					chapter3,
					chapter4,
					chapter5,
					chapter6,
					chapter7,
					chapter8,
					chapter9,
					chapter10,
					chapter11,
					chapter12,
					chapter13,
					chapter14,
					chapter15,
					chapter16
				];
								
				const word = this.pickWord(chapter1.words);
				
				this.state = {
					selectedChapter: chapter1.number,
					word: word
					};
			  }
			  
			  pickWord(words) {
								
				const wordIndex = Math.floor(Math.random() * words.length);
				
				return words[wordIndex];
			  }
			  
			  nextWord() {
			  			  
				var newWord;
				do
				{
					newWord = this.pickWord(this.chapters.find(c => c.number == this.state.selectedChapter).words);
				}
				while (newWord && newWord === this.state.word)
			  
				if (newWord) {
				  this.setState((state) => {
						return {
							...state,
							word: newWord
						};
					});
				}
			  }
			  
			  selectChapter(chapter) {
				  
				  if (chapter === this.state.selectedChapter)
					return;
				  
				  const newWord = this.pickWord(this.chapters.find(c => c.number == chapter).words);
				  this.setState((state) => {
						return {
							...state,
							word: newWord,
							selectedChapter: chapter,
						};
					});
			  }
			  
			  render() {
				return e(
					'div',
					{ className: 'container' },
					e(
						'div',
						{ className: 'header' },
						e(
							'select',
							{
								defaultValue: this.state.selectedChapter,
								onChange: (e) => this.selectChapter(e.target.value)
							},
							this.chapters.map(chapter => ChapterButton(
							{
								chapter: chapter
							}))
						)
					),
					e(
						'div',
						{ className: 'content' },
						Word(
						{
							word: this.state.word
						})
					),
					e(
						'div',
						{ className: 'footer' },
						NextButton(
						{
							onclick: this.nextWord.bind(this)
						})
					)
				);
			  }
			}

			function ChapterButton({chapter}) {
				return e(
					'option',
					{
						key: chapter.number,
						value: chapter.number
					},
					chapter.number + ': ' + chapter.name
				);
			}
			
			function Word(props) {
				return e(
					'div',
					{
						className: 'content-body'
					},
					props.word
				);
			}
			
			function NextButton(props) {
				return e(
					'input',
					{
						className: 'next-button',
						type: 'submit',
						onClick: () => props.onclick(props.nextWord),
						value: 'Next'
					}
				);
			}
		
			const domContainer = document.getElementById('app');
			ReactDOM.render(e(App), domContainer);
		</script>
	</body>
</head>
